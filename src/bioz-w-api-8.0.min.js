function bioz_w_attach_message() {
	if (window.addEventListener) {
		window.addEventListener('message', function (e) {
			bioz_w_process_request(e);
		});
	} else {
		window.attachEvent('onmessage', function (e) {
			bioz_w_process_request(e);
		});
	}
}
function bioz_w_process_request(e) {
	if (e.data.e_id == 'w-cors-message') {
		jQuery(e.data.e_ps.v1).height(e.data.e_ps.v3 + "px");
		jQuery(e.data.e_ps.v2).height(e.data.e_ps.v3 + "px");
		if (e.data.e_ps.v3 <= 2) {
			jQuery(e.data.e_ps.v1).css({"border-width": "0px"});
			jQuery(e.data.e_ps.v2).css({"border-width": "0px"});
			jQuery(e.data.e_ps.v0).css({"display": "none"});
			jQuery(e.data.e_ps.v0 + "-div").css({"display": "none"});
		} else {
			jQuery(e.data.e_ps.v0).css({"display":""});
			jQuery(e.data.e_ps.v0 + "-div").css({"display": ""});
			jQuery(e.data.e_ps.v1).css({"border-width": "1px"});
			jQuery(e.data.e_ps.v2).css({"border-width": "1px"});
			var bioz_w_p_link = jQuery(e.data.e_ps.v0);
			if (bioz_w_p_link) {
				var bioz_w_year = new Date().getFullYear();
				if (bioz_w_p_link.html() && bioz_w_p_link.html().indexOf(bioz_w_year) == -1) {
					var bioz_w_p_link_content = bioz_w_p_link.html();
					bioz_w_p_link.html(bioz_w_p_link_content + " &copy; " + bioz_w_year);
				}
			}
		}
	}
}

export {bioz_w_attach_message}
